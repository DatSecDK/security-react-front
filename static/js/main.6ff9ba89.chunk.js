(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(44)},36:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),l=a.n(r),c=(a(36),a(11)),o=a(14),i=a(16),m=a(15),u=a(17),d=a(12),g=a(10),h=function(e){var t=e.branding;return s.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-3 py-0"},s.a.createElement("div",{className:"container"},s.a.createElement("a",{href:"https://DatSecDK.github.io/security-react-front/#/",className:"navbar-brand"},t),s.a.createElement("div",null,s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{to:"/",exact:!0,activeClassName:"active",className:"nav-link"},s.a.createElement("i",{className:"fas fa-home"})," Home"))," ",s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{to:"/test",exact:!0,activeClassName:"active",className:"nav-link"},s.a.createElement("i",{className:"fas fa-car"})," Test"))," ",s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{to:"/login",exact:!0,activeClassName:"active",className:"nav-link"},s.a.createElement("i",{className:"fas fa-key"})," login")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{to:"/about",exact:!0,activeClassName:"active",className:"nav-link"},s.a.createElement("i",{className:"fas fa-question"})," About"))," "))))};h.defaultProps={branding:"DatSecDK - 4. semester self-study"};var p=h;function f(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Hello from Home"))}var v=a(21),b=a.n(v),E=a(29),N=a(8),O=a(46),k=a(48),y=a(49),j=a(47);a(42);function w(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var S=new function e(){Object(c.a)(this,e),this.getUsers=function(){return fetch("https://testprogram.dk/ExamSem3/api/login").then(w)},this.login=function(e){var t={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)};return fetch("https://testprogram.dk/ExamSem3/api/login",t).then(w)}},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=Object(E.a)(b.a.mark(function e(t){var n,s,r,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.username,s=a.state.password,r={username:n,password:s},e.next=6,S.login(r);case 6:(l=e.sent).token&&(localStorage.setItem("currentUser",JSON.stringify(l)),console.log(a.props),console.log(l),a.props.setUser(l),a.props.setLoggedIn());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:""},a.handleChangeUN=a.handleChangeUN.bind(Object(N.a)(a)),a.handleChangePW=a.handleChangePW.bind(Object(N.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(N.a)(a)),console.log("test",e),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"handleChangeUN",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePW",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.props.isLoggedIn?s.a.createElement("div",null,s.a.createElement("span",null,"Hello ",this.props.currentUser.username+"   ",s.a.createElement("button",{onClick:this.props.setLoggedOut,className:"btn-secondary"},"Log out"))):s.a.createElement("div",{className:"Login"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement(O.a,{controlId:"text",bssize:"large"},s.a.createElement(k.a,null,"User name"),s.a.createElement(y.a,{autoFocus:!0,type:"text",value:this.state.username,onChange:this.handleChangeUN,name:"username",placeholder:"User name"})),s.a.createElement(O.a,{controlId:"password",bssize:"large"},s.a.createElement(k.a,null,"Password"),s.a.createElement(y.a,{type:"password",value:this.state.password,onChange:this.handleChangePW,name:"password",placeholder:"Password"})),s.a.createElement(j.a,{block:!0,bssize:"large",disabled:!this.validateForm(),type:"submit"},"Login")))}}]),t}(n.Component);function U(){return s.a.createElement("div",null,s.a.createElement("h1",{className:"display-4 "},'About "DatSecDK"'),s.a.createElement("p",{className:"lead"},"Simple frontpage to display stuff and for pentesting for students"),s.a.createElement("p",{className:""},"Created as a part of the self-study 2019 by ",s.a.createElement("b",null,"Kim P. Pedersen and fellow students")),s.a.createElement("p",{className:"text-secondary"},"Version 1.0.0"))}function x(){return s.a.createElement("div",null,s.a.createElement("h1",{className:"display-4"},s.a.createElement("span",{className:"text-danger"},"404")," page not found"),s.a.createElement("p",{className:"lead"},"Sorry, that page does not exist"))}a(43);var L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).setUser=function(e){a.setState({currentUser:e})},a.setLoggedIn=function(){a.setState({isLoggedIn:!0})},a.setLoggedOut=function(){a.setState({isLoggedIn:!1}),localStorage.clear()},a.state={isLoggedIn:!1,currentUser:JSON.parse(localStorage.getItem("currentUser"))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getUsername",value:function(){return this.state.currentUser.username}},{key:"render",value:function(){var e=this;return s.a.createElement(d.a,null,s.a.createElement(p,null),s.a.createElement("div",{className:"container"},s.a.createElement(g.c,null,s.a.createElement(g.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(f,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn}))}}),s.a.createElement(g.a,{exact:!0,path:"/login",render:function(){return s.a.createElement(C,Object.assign({setUser:e.setUser,setLoggedIn:e.setLoggedIn,setLoggedOut:e.setLoggedOut,isLoggedIn:e.state.isLoggedIn,currentUser:e.state.currentUser},e.props))}}),s.a.createElement(g.a,{exact:!0,path:"/test",render:function(e){return s.a.createElement(I,e)}}),s.a.createElement(g.a,{exact:!0,path:"/about",component:U}),s.a.createElement(g.a,{component:x}))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).clicked=function(){a.setState({msg:"Hejsa Dan!"})},a.state={msg:"Hejsa Kim"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,this.state.msg," "),s.a.createElement("button",{onClick:this.clicked}," click me"))}}]),t}(n.Component),P=L;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.6ff9ba89.chunk.js.map